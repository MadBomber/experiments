Refactor doge_vsm logic to handle completion patterns and response formats

Improves the logic in the doge_vsm module to detect completion messages 
in assistant responses using defined patterns. This helps streamline 
the analysis workflow by allowing the system to recognize when 
completion indicators appear in messages.

Additionally, the handling of similarity calculation and 
recommendation generation responses has been updated to support 
both hash and direct array formats, ensuring better robustness 
and usability.

No issue references available for this change.
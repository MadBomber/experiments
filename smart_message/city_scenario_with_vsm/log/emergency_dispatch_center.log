# Logfile created on 2025-08-24 16:13:12 -0500 by logger.rb/v1.7.0
[2025-08-24 16:13:12.430] INFO  -- emergency_dispatch_center.rb:47 : AI model initialized for Emergency Dispatch
[2025-08-24 16:13:12.430] INFO  -- subscription.rb:131 : [SmartMessage] Subscribed: Messages::Emergency911Message with block/proc handler
[2025-08-24 16:13:12.431] INFO  -- subscription.rb:131 : [SmartMessage] Subscribed: Messages::DepartmentAnnouncementMessage with block/proc handler
[2025-08-24 16:13:12.431] INFO  -- emergency_dispatch_center.rb:87 : Emergency Dispatch Center ready - 3 departments available, AI: enabled
[2025-08-24 16:13:12.431] INFO  -- subscription.rb:131 : [SmartMessage] Subscribed: Messages::HealthCheckMessage with block/proc handler
[2025-08-24 16:13:16.974] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (288 bytes)
[2025-08-24 16:13:16.987] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:13:16.987] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:13:21.984] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (288 bytes)
[2025-08-24 16:13:21.987] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:13:21.987] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:13:26.992] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (288 bytes)
[2025-08-24 16:13:27.000] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:13:27.000] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:13:32.001] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (288 bytes)
[2025-08-24 16:13:32.007] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:13:32.007] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:13:37.008] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (288 bytes)
[2025-08-24 16:13:37.012] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:13:37.012] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:13:41.935] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::Emergency911Message (762 bytes)
[2025-08-24 16:13:41.936] WARN  -- emergency_dispatch_center.rb:194 : 911 CALL 911-20250824-161341-0001: fire at 321 Elm Drive - House is on fire! Smoke everywhere!
[2025-08-24 16:13:42.014] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (288 bytes)
[2025-08-24 16:13:42.016] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:13:42.016] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:13:42.348] INFO  -- emergency_dispatch_center.rb:312 : AI determined departments: fire_department, health_department
[2025-08-24 16:13:42.351] ERROR -- messaging.rb:65 : [SmartMessage] Error in message publishing: SmartMessage::Errors::ValidationError - Messages::FireEmergencyMessage#fire_type: Fire type must be: fire, kitchen, electrical, basement, garage, wildfire
[2025-08-24 16:13:42.351] ERROR -- emergency_dispatch_center.rb:458 : {alert: "Error routing to fire_department", message: "Messages::FireEmergencyMessage#fire_type: Fire type must be: fire, kitchen, electrical, basement, garage, wildfire", trace: ["/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:81:in 'block in SmartMessage::PropertyValidations::ClassMethods#validate_all'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:51:in 'Array#each'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:51:in 'SmartMessage::PropertyValidations::ClassMethods#validate_all'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:90:in 'SmartMessage::PropertyValidations#validate!'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/versioning.rb:26:in 'SmartMessage::Versioning#validate!'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/messaging.rb:42:in 'SmartMessage::Messaging#publish'", "emergency_dispatch_center.rb:426:in 'EmergencyDispatchCenter#route_to_department'", "emergency_dispatch_center.rb:209:in 'block in EmergencyDispatchCenter#handle_emergency_call'", "emergency_dispatch_center.rb:208:in 'Array#each'", "emergency_dispatch_center.rb:208:in 'EmergencyDispatchCenter#handle_emergency_call'", "emergency_dispatch_center.rb:71:in 'block in EmergencyDispatchCenter#setup_messaging'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/subscription.rb:40:in 'SmartMessage::Subscription::ClassMethods#call_proc_handler'", "/Users/dewayne/sandbox/git_repos/madbomber/experiments/smart_message/city_scenario_with_vsm/smart_message/lib/smart_message/dispatcher.rb:231:in 'block (3 levels) in SmartMessage::Dispatcher#route'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:113:in 'BreakerMachines::Circuit::Execution#execute_call'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:81:in 'BreakerMachines::Circuit::Execution#handle_closed_status'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:59:in 'block in BreakerMachines::Circuit::Execution#execute_with_state_check'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/atomic/reentrant_read_write_lock.rb:130:in 'Concurrent::ReentrantReadWriteLock#with_read_lock'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:52:in 'BreakerMachines::Circuit::Execution#execute_with_state_check'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:29:in 'BreakerMachines::Circuit::Execution#wrap'", "/Users/dewayne/sandbox/git_repos/madbomber/experiments/smart_message/city_scenario_with_vsm/smart_message/lib/smart_message/dispatcher.rb:227:in 'block (2 levels) in SmartMessage::Dispatcher#route'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in 'Concurrent::RubyThreadPoolExecutor::Worker#run_task'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in 'block (3 levels) in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'", "<internal:kernel>:168:in 'Kernel#loop'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in 'block (2 levels) in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in 'Kernel#catch'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in 'block in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'"]}
[2025-08-24 16:13:42.352] ERROR -- emergency_dispatch_center.rb:224 : {alert: "Error handling 911 call", message: "Messages::FireEmergencyMessage#fire_type: Fire type must be: fire, kitchen, electrical, basement, garage, wildfire", traceback: ["/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:81:in 'block in SmartMessage::PropertyValidations::ClassMethods#validate_all'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:51:in 'Array#each'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:51:in 'SmartMessage::PropertyValidations::ClassMethods#validate_all'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:90:in 'SmartMessage::PropertyValidations#validate!'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/versioning.rb:26:in 'SmartMessage::Versioning#validate!'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/messaging.rb:42:in 'SmartMessage::Messaging#publish'", "emergency_dispatch_center.rb:426:in 'EmergencyDispatchCenter#route_to_department'", "emergency_dispatch_center.rb:209:in 'block in EmergencyDispatchCenter#handle_emergency_call'", "emergency_dispatch_center.rb:208:in 'Array#each'", "emergency_dispatch_center.rb:208:in 'EmergencyDispatchCenter#handle_emergency_call'", "emergency_dispatch_center.rb:71:in 'block in EmergencyDispatchCenter#setup_messaging'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/subscription.rb:40:in 'SmartMessage::Subscription::ClassMethods#call_proc_handler'", "/Users/dewayne/sandbox/git_repos/madbomber/experiments/smart_message/city_scenario_with_vsm/smart_message/lib/smart_message/dispatcher.rb:231:in 'block (3 levels) in SmartMessage::Dispatcher#route'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:113:in 'BreakerMachines::Circuit::Execution#execute_call'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:81:in 'BreakerMachines::Circuit::Execution#handle_closed_status'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:59:in 'block in BreakerMachines::Circuit::Execution#execute_with_state_check'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/atomic/reentrant_read_write_lock.rb:130:in 'Concurrent::ReentrantReadWriteLock#with_read_lock'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:52:in 'BreakerMachines::Circuit::Execution#execute_with_state_check'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:29:in 'BreakerMachines::Circuit::Execution#wrap'", "/Users/dewayne/sandbox/git_repos/madbomber/experiments/smart_message/city_scenario_with_vsm/smart_message/lib/smart_message/dispatcher.rb:227:in 'block (2 levels) in SmartMessage::Dispatcher#route'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in 'Concurrent::RubyThreadPoolExecutor::Worker#run_task'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in 'block (3 levels) in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'", "<internal:kernel>:168:in 'Kernel#loop'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in 'block (2 levels) in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in 'Kernel#catch'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in 'block in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'"]}
[2025-08-24 16:13:47.022] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (288 bytes)
[2025-08-24 16:13:47.030] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:13:47.030] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:13:52.029] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (288 bytes)
[2025-08-24 16:13:52.035] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:13:52.035] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:13:57.037] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:13:57.051] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:13:57.051] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:02.044] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:02.048] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:02.048] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:07.052] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:07.054] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:07.055] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:12.058] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:12.059] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:12.060] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:17.068] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:17.079] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:17.079] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:22.071] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:22.074] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:22.075] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:27.078] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:27.080] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:27.080] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:32.086] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:32.090] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:32.090] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:37.092] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:37.095] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:37.095] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:42.100] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:42.103] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:42.104] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:47.108] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:47.112] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:47.112] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:47.961] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::Emergency911Message (764 bytes)
[2025-08-24 16:14:47.963] WARN  -- emergency_dispatch_center.rb:194 : 911 CALL 911-20250824-161447-0002: fire at 987 Cedar Court - House is on fire! Smoke everywhere!
[2025-08-24 16:14:48.503] INFO  -- emergency_dispatch_center.rb:312 : AI determined departments: fire_department, health_department
[2025-08-24 16:14:48.505] ERROR -- messaging.rb:65 : [SmartMessage] Error in message publishing: SmartMessage::Errors::ValidationError - Messages::FireEmergencyMessage#fire_type: Fire type must be: fire, kitchen, electrical, basement, garage, wildfire
[2025-08-24 16:14:48.505] ERROR -- emergency_dispatch_center.rb:458 : {alert: "Error routing to fire_department", message: "Messages::FireEmergencyMessage#fire_type: Fire type must be: fire, kitchen, electrical, basement, garage, wildfire", trace: ["/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:81:in 'block in SmartMessage::PropertyValidations::ClassMethods#validate_all'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:51:in 'Array#each'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:51:in 'SmartMessage::PropertyValidations::ClassMethods#validate_all'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:90:in 'SmartMessage::PropertyValidations#validate!'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/versioning.rb:26:in 'SmartMessage::Versioning#validate!'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/messaging.rb:42:in 'SmartMessage::Messaging#publish'", "emergency_dispatch_center.rb:426:in 'EmergencyDispatchCenter#route_to_department'", "emergency_dispatch_center.rb:209:in 'block in EmergencyDispatchCenter#handle_emergency_call'", "emergency_dispatch_center.rb:208:in 'Array#each'", "emergency_dispatch_center.rb:208:in 'EmergencyDispatchCenter#handle_emergency_call'", "emergency_dispatch_center.rb:71:in 'block in EmergencyDispatchCenter#setup_messaging'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/subscription.rb:40:in 'SmartMessage::Subscription::ClassMethods#call_proc_handler'", "/Users/dewayne/sandbox/git_repos/madbomber/experiments/smart_message/city_scenario_with_vsm/smart_message/lib/smart_message/dispatcher.rb:231:in 'block (3 levels) in SmartMessage::Dispatcher#route'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:113:in 'BreakerMachines::Circuit::Execution#execute_call'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:81:in 'BreakerMachines::Circuit::Execution#handle_closed_status'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:59:in 'block in BreakerMachines::Circuit::Execution#execute_with_state_check'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/atomic/reentrant_read_write_lock.rb:130:in 'Concurrent::ReentrantReadWriteLock#with_read_lock'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:52:in 'BreakerMachines::Circuit::Execution#execute_with_state_check'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:29:in 'BreakerMachines::Circuit::Execution#wrap'", "/Users/dewayne/sandbox/git_repos/madbomber/experiments/smart_message/city_scenario_with_vsm/smart_message/lib/smart_message/dispatcher.rb:227:in 'block (2 levels) in SmartMessage::Dispatcher#route'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in 'Concurrent::RubyThreadPoolExecutor::Worker#run_task'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in 'block (3 levels) in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'", "<internal:kernel>:168:in 'Kernel#loop'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in 'block (2 levels) in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in 'Kernel#catch'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in 'block in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'"]}
[2025-08-24 16:14:48.506] ERROR -- emergency_dispatch_center.rb:224 : {alert: "Error handling 911 call", message: "Messages::FireEmergencyMessage#fire_type: Fire type must be: fire, kitchen, electrical, basement, garage, wildfire", traceback: ["/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:81:in 'block in SmartMessage::PropertyValidations::ClassMethods#validate_all'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:51:in 'Array#each'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:51:in 'SmartMessage::PropertyValidations::ClassMethods#validate_all'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/property_validations.rb:90:in 'SmartMessage::PropertyValidations#validate!'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/versioning.rb:26:in 'SmartMessage::Versioning#validate!'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/messaging.rb:42:in 'SmartMessage::Messaging#publish'", "emergency_dispatch_center.rb:426:in 'EmergencyDispatchCenter#route_to_department'", "emergency_dispatch_center.rb:209:in 'block in EmergencyDispatchCenter#handle_emergency_call'", "emergency_dispatch_center.rb:208:in 'Array#each'", "emergency_dispatch_center.rb:208:in 'EmergencyDispatchCenter#handle_emergency_call'", "emergency_dispatch_center.rb:71:in 'block in EmergencyDispatchCenter#setup_messaging'", "/Users/dewayne/sandbox/git_repos/madbomber/smart_message/lib/smart_message/subscription.rb:40:in 'SmartMessage::Subscription::ClassMethods#call_proc_handler'", "/Users/dewayne/sandbox/git_repos/madbomber/experiments/smart_message/city_scenario_with_vsm/smart_message/lib/smart_message/dispatcher.rb:231:in 'block (3 levels) in SmartMessage::Dispatcher#route'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:113:in 'BreakerMachines::Circuit::Execution#execute_call'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:81:in 'BreakerMachines::Circuit::Execution#handle_closed_status'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:59:in 'block in BreakerMachines::Circuit::Execution#execute_with_state_check'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/atomic/reentrant_read_write_lock.rb:130:in 'Concurrent::ReentrantReadWriteLock#with_read_lock'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:52:in 'BreakerMachines::Circuit::Execution#execute_with_state_check'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/breaker_machines-0.4.0/lib/breaker_machines/circuit/execution.rb:29:in 'BreakerMachines::Circuit::Execution#wrap'", "/Users/dewayne/sandbox/git_repos/madbomber/experiments/smart_message/city_scenario_with_vsm/smart_message/lib/smart_message/dispatcher.rb:227:in 'block (2 levels) in SmartMessage::Dispatcher#route'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in 'Concurrent::RubyThreadPoolExecutor::Worker#run_task'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in 'block (3 levels) in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'", "<internal:kernel>:168:in 'Kernel#loop'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in 'block (2 levels) in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in 'Kernel#catch'", "/Users/dewayne/.rbenv/versions/3.4.5/lib/ruby/gems/3.4.0/gems/concurrent-ruby-1.3.5/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in 'block in Concurrent::RubyThreadPoolExecutor::Worker#create_worker'"]}
[2025-08-24 16:14:52.113] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:52.116] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:52.116] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:14:57.122] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:14:57.124] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:14:57.125] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:15:02.131] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:15:02.136] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:15:02.136] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:15:07.138] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:15:07.140] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:15:07.140] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:15:12.147] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:15:12.152] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:15:12.153] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:15:17.151] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:15:17.155] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:15:17.155] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:15:22.155] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:15:22.158] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:15:22.158] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:15:27.162] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:15:27.166] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:15:27.166] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:15:28.980] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::Emergency911Message (791 bytes)
[2025-08-24 16:15:28.982] WARN  -- emergency_dispatch_center.rb:194 : 911 CALL 911-20250824-161528-0003: hazmat at 456 Oak Avenue - Chemical spill from overturned truck! Strong fumes!
[2025-08-24 16:15:29.417] INFO  -- emergency_dispatch_center.rb:312 : AI determined departments: fire_department, environmental_services_department, health_department
[2025-08-24 16:15:29.417] WARN  -- emergency_dispatch_center.rb:381 : Missing departments for call: environmental_services_department
[2025-08-24 16:15:29.421] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::ServiceRequestMessage via RedisTransport
[2025-08-24 16:15:29.422] INFO  -- emergency_dispatch_center.rb:405 : Requested new department from City Council: environmental_services_department
[2025-08-24 16:15:29.422] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::Emergency911Message via RedisTransport
[2025-08-24 16:15:29.422] INFO  -- emergency_dispatch_center.rb:435 : Forwarded call 911-20250824-161528-0003 to Fire Department for rescue/medical
[2025-08-24 16:15:29.423] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::Emergency911Message (814 bytes)
[2025-08-24 16:15:32.169] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:15:32.171] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:15:32.171] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:15:37.180] INFO  -- base.rb:168 : [SmartMessage] Received: Messages::HealthCheckMessage (289 bytes)
[2025-08-24 16:15:37.183] INFO  -- messaging.rb:60 : [SmartMessage] Published: Messages::HealthStatusMessage via RedisTransport
[2025-08-24 16:15:37.183] INFO  -- health_monitor.rb:73 : Sent health status: healthy ()
[2025-08-24 16:15:52.188] FATAL -- health_monitor.rb:55 : ⚠️  WARNING: No health checks received for over 15 seconds!
[2025-08-24 16:15:52.188] FATAL -- health_monitor.rb:56 : EmergencyDispatchCenter shutting down - no health checks received
